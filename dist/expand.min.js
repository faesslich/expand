function e(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function t(t){for(var i=1;i<arguments.length;i++){var s=null!=arguments[i]?arguments[i]:{};i%2?e(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):e(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,o(s.key),s)}}function n(e,t,i){return(t=o(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=e[i];return s}function o(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var l={selector:".expand-js-outer",itemSelector:".expand-js--item",visibleSlides:1,useCssFile:!0,cssCustomPath:"",startIndex:0,draggable:!0,multipleDrag:!0,triggerDistance:100,loop:!0,rtl:!1,duration:500,easeMode:"ease-out",slidesToSlide:1,activeClass:!0,centerMode:!1,centerModeRange:!1,pagination:!1,paginationVisible:!0,paginationType:"",paginationContainer:"expand-pagination",paginationItemSelector:"",paginationItemActiveClass:"active",autoplay:!1,autoplayDuration:3e3,pauseOnHover:!1,arrows:!1,arrowsVisible:!0,prevArrowClass:"expand-js--prev",nextArrowClass:"expand-js--next",prevArrowInner:"‹",nextArrowInner:"›",gap:0,keyboard:!1,onInit:function(){},onChange:function(){}},c=function(){function e(i,s){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n(this,"resizeHandler",(function(){var e=a.config,t=e.arrows,i=e.useCssFile,s=e.activeClass,n=e.pagination;a.slidesAmount(),a.selectorWidth=a.selector.offsetWidth,a.curSlide+a.visibleSlides>a.innerItems.length&&(a.curSlide=a.innerItems.length<=a.visibleSlides?0:a.innerItems.length-a.visibleSlides),a.sliderContainerCreate(),t&&(a.arrowsVisibility(),a.arrowsInit()),i&&s&&a.activeClass(),n&&(a.paginationVisibility(),a.paginationInit(),a.paginationUpdate())})),n(this,"clickHandler",(function(e){a.drag.preventClick&&e.preventDefault(),a.drag.preventClick=!1})),this.config=t(t(t({},l),i),s);var o=this.config,c=o.selector,h=o.loop,d=o.startIndex,u=o.visibleSlides;this.selector="string"==typeof c?document.querySelector(c):c,this.selectorWidth=this.selector.offsetWidth,this.innerItems=r(this.selector.children),this.curSlide=h?d%this.innerItems.length:Math.max(0,Math.min(d,this.innerItems.length-u))||0,this.bindAndAttachEventHandlers(),this.slidesAmount(),this.init(),this.addAriaRoles()}var a,o,c;return a=e,o=[{key:"bindAndAttachEventHandlers",value:function(){var e=this;["resize","click","touchstart","touchend","touchmove","mousedown","mouseup","mouseleave","mousemove"].forEach((function(t){var i="".concat(t,"Handler");e[i]&&(e[i]=e[i].bind(e),("resize"===t?window:e.selector).addEventListener(t,e[i],{passive:!1}))})),this.config.draggable&&(this.pointerDown=!1,this.drag={startXAxis:0,endXAxis:0,startYAxis:0,endYAxis:0,dragOff:null,preventClick:!1})}},{key:"init",value:function(){var e=this.config,t=e.autoplay,i=e.pauseOnHover,s=e.arrows,n=e.keyboard,r=e.useCssFile,a=e.activeClass,o=e.pagination;this.selector.classList.add("expand-outer"),this.sliderContainerCreate(),t&&this.autoPlay(),t&&i&&this.attachHoverListeners(),s&&(this.arrowsVisibility(),this.arrowsInit()),n&&this.keyboardNavigation(),r&&a&&this.activeClass(),o&&(this.paginationVisibility(),this.paginationInit(),this.paginationUpdate()),this.config.onInit.call(this)}},{key:"addAriaRoles",value:function(){this.selector.setAttribute("role","region"),this.selector.setAttribute("aria-label","Slider"),this.selector.querySelectorAll(this.config.itemSelector).forEach((function(e){e.setAttribute("role","group"),e.setAttribute("aria-label","Slide")}))}},{key:"sliderContainerCreate",value:function(){this.slideItemWrapper=this.createSliderOuterWrapper(),this.slidesCollection=this.getSlidesCollection(),this.createSliderInnerWrapper(),this.selector.innerHTML="",this.slideItemWrapper.appendChild(this.sliderInnerWrapper),this.sliderInnerWrapper.appendChild(this.slidesCollection),this.selector.appendChild(this.slideItemWrapper),this.slideToCurrent()}},{key:"addClassesBasedOnConfig",value:function(e,t){var i,s=this.config,n=s.useCssFile,a=s.rtl,o=s.pagination;n&&((i=e.classList).add.apply(i,r(t)),a&&e.classList.add("-rtl"),o&&e.classList.add("-is-pagination"))}},{key:"createSliderInnerWrapper",value:function(){var e=this.config,t=e.centerMode,i=e.centerModeRange;this.sliderInnerWrapper=document.createElement("div"),this.sliderInnerWrapper.classList.add("expand-js--container"),this.sliderInnerWrapper.style.width="".concat(this.getCalculatedItemWidth(),"px"),this.isTransition(),t&&(this.sliderInnerWrapper.classList.add("-is-center-mode"),i&&this.sliderInnerWrapper.classList.add("-is-center-range"))}},{key:"createSliderOuterWrapper",value:function(){var e=document.createElement("div");return e.classList.add("expand-js"),this.addClassesBasedOnConfig(e,["-hidden"]),this.config.useCssFile||(e.style.overflow="hidden",e.style.direction=this.config.rtl?"rtl":"ltr"),e}},{key:"getSlidesCollection",value:function(){var e=this,t=document.createDocumentFragment(),i=function(i,s){for(var n=i;n<s;n++){var r=e.createSliderItem(e.innerItems[n].cloneNode(!0));t.appendChild(r)}};return this.config.loop&&i(this.innerItems.length-this.visibleSlides,this.innerItems.length),this.innerItems.forEach((function(i){var s=e.createSliderItem(i);t.appendChild(s)})),this.config.loop&&i(0,this.visibleSlides),t}},{key:"getCalculatedItemWidth",value:function(){return this.selectorWidth/this.visibleSlides*(this.config.loop?2*this.visibleSlides+this.innerItems.length:this.innerItems.length)}},{key:"createSliderItem",value:function(e){var t=this.config,i=t.useCssFile,s=t.itemSelector,n=t.rtl,r=t.gap,a=t.loop,o=document.createElement("div");i?(o.classList.add(s.replace(".","")),n&&o.classList.add("f-right")):o.style.cssFloat=n?"right":"left";var l=a?100/(this.innerItems.length+2*this.visibleSlides):100/this.innerItems.length;return o.style.width=r?"calc(".concat(l,"% - ").concat(r,"px)"):"".concat(l,"%"),o.appendChild(e),o}},{key:"slidesAmount",value:function(){var e=this.config.visibleSlides;"number"!=typeof e?"object"===i(e)&&(this.visibleSlides=Object.keys(e).filter((function(e){return window.innerWidth>=Number(e)})).sort((function(e,t){return t-e})).map((function(t){return e[t]}))[0]||1):this.visibleSlides=e}},{key:"slide",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"next",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if(!(this.innerItems.length<=this.visibleSlides)){i=this.config.slidesToSlide>1?this.config.slidesToSlide:i;var r=this.curSlide,a=function(i){e.curSlide="next"===t?Math.min(e.curSlide+i,e.innerItems.length-e.visibleSlides):Math.max(e.curSlide-i,0)};if(this.config.loop)if("next"===t?this.curSlide+i>this.innerItems.length-this.visibleSlides:this.curSlide-i<0){this.isNotTransition();var o="next"===t?e.curSlide-e.innerItems.length:e.curSlide+e.innerItems.length,l=o+this.visibleSlides,c=(this.config.rtl?1:-1)*l*(this.selectorWidth/this.visibleSlides)+(this.config.gap||0),h=this.config.draggable?this.drag.endXAxis-this.drag.startXAxis:0;this.sliderInnerWrapper.style.transform="translate3d(".concat(c+h,"px, 0, 0)"),this.curSlide="next"===t?o+i:o-i}else a(i);else a(i);r!==this.curSlide&&(this.slideToCurrent(this.config.loop),this.config.onChange.call(this),this.callbackHandler(s,n)),"next"===t&&this.config.autoplay&&(clearInterval(this.myTimer),this.autoPlay())}}},{key:"isNotTransition",value:function(){this.sliderInnerWrapper.style.transition="all 0ms ".concat(this.config.easeMode)}},{key:"isTransition",value:function(){this.sliderInnerWrapper.style.transition="all ".concat(this.config.duration,"ms ").concat(this.config.easeMode)}},{key:"goToSlide",value:function(e,t,i){var s=this.config,n=s.loop,r=s.onChange;if(!(this.innerItems.length<=this.visibleSlides)){var a=this.curSlide;e<0?this.curSlide=n?this.innerItems.length+e:0:e>this.innerItems.length-1?this.curSlide=n?e-this.innerItems.length:this.innerItems.length-1:this.curSlide=e,a!==this.curSlide&&(this.slideToCurrent(),r.call(this),this.callbackHandler(t,i))}}},{key:"slideToCurrent",value:function(e){var t=this,i=this.config.loop?this.curSlide+this.visibleSlides:this.curSlide,s=(this.config.rtl?1:-1)*i*(this.selectorWidth/this.visibleSlides)+(this.config.gap?this.config.gap:0);e?requestAnimationFrame((function(){requestAnimationFrame((function(){t.isTransition(),t.sliderInnerWrapper.style.transform="translate3d(".concat(s+t.config.gap,"px, 0, 0)")}))})):this.sliderInnerWrapper.style.transform="translate3d(".concat(s,"px, 0, 0)"),this.config.useCssFile&&this.config.activeClass&&this.activeClass(),this.config.pagination&&this.paginationUpdate()}},{key:"callbackHandler",value:function(e,t){var i=this;e&&(t?setTimeout((function(){return e.call(i)}),t):e.call(this))}},{key:"updateAfterDrag",value:function(){var e=this.config,t=e.rtl,i=e.multipleDrag,s=e.slidesToSlide,n=e.triggerDistance;if(this.innerItems){var r=(t?-1:1)*(this.drag.endXAxis-this.drag.startXAxis),a=Math.abs(r),o=i?Math.ceil(a/(this.selectorWidth/this.visibleSlides)):s,l=r>0&&this.curSlide-o<0,c=r<0&&this.curSlide+o>this.innerItems.length-this.visibleSlides;a>n&&this.innerItems.length>this.visibleSlides&&this.slide(r>0?"prev":"next",o),this.slideToCurrent(l||c)}else console.error("this.innerItems is undefined!")}},{key:"stopDragging",value:function(){this.drag={startXAxis:0,endXAxis:0,startYAxis:0,dragOff:null,preventClick:this.drag.preventClick}}},{key:"remove",value:function(e,t,i){(e<this.curSlide||this.curSlide+this.visibleSlides-1===e)&&(this.curSlide-=1),this.innerItems.splice(e,1),this.sliderContainerCreate(),this.callbackHandler(t,i)}},{key:"insertElem",value:function(e,t,i,s){this.innerItems.splice(t,0,e),this.sliderContainerCreate(),this.callbackHandler(i,s)}},{key:"prependElem",value:function(e,t,i){this.insertElem(e,0),this.callbackHandler(t,i)}},{key:"appendElem",value:function(e,t,i){this.insertElem(e,this.innerItems.length+1),this.callbackHandler(t,i)}},{key:"autoPlay",value:function(){var e=this;clearInterval(this.myTimer),this.myTimer=setInterval((function(){e.slide("next")}),this.config.autoplayDuration)}},{key:"determineVisibility",value:function(e){return"boolean"==typeof e?e:"object"===i(e)&&(Object.keys(e).sort((function(e,t){return t-e})).find((function(e){return window.innerWidth>=Number(e)}))||!0)}},{key:"paginationInit",value:function(){var e=this,t=this.config,i=t.pagination,s=t.paginationContainer,n=t.paginationItemSelector,r=t.paginationType;if(t.paginationItemActiveClass,this.paginationVisible&&i){var a=Math.ceil(this.innerItems.length/this.visibleSlides),o=n||"".concat(s,"--item");this.paginationContainer=document.createElement("div"),this.paginationContainer.classList.add(s);for(var l=function(){var t=c*e.visibleSlides,i=document.createElement("span");i.classList.add(o),"dots"===r&&i.classList.add("".concat(o,"--dots")),i.dataset.pagination=c+1,i.innerHTML="dots"!==r?i.dataset.pagination:"",i.addEventListener("click",(function(){return e.goToSlide(t)})),e.paginationContainer.appendChild(i)},c=0;c<a;c++)l();this.selector.appendChild(this.paginationContainer)}}},{key:"paginationUpdate",value:function(){var e=this;if(this.paginationVisible&&this.config.pagination){var t=this.config.paginationItemSelector||"".concat(this.config.paginationContainer,"--item"),i=this.selector.querySelectorAll(".".concat(t)),s=Math.floor(this.curSlide/this.visibleSlides)+1;i.forEach((function(t){t.classList.toggle(e.config.paginationItemActiveClass,Number(t.dataset.pagination)===s)}))}}},{key:"paginationVisibility",value:function(){this.paginationVisible=this.determineVisibility(this.config.paginationVisible)}},{key:"arrowsInit",value:function(){var e=this,t=this.config,i=t.arrows,s=t.prevArrowClass,n=t.prevArrowInner,r=t.nextArrowClass,a=t.nextArrowInner;this.arrowsVisible&&i&&(this.prevSelector=document.createElement("button"),this.prevSelector.className=s,this.prevSelector.innerHTML=n,this.prevSelector.addEventListener("click",(function(){return e.slide("prev")})),this.nextSelector=document.createElement("button"),this.nextSelector.className=r,this.nextSelector.innerHTML=a,this.nextSelector.addEventListener("click",(function(){return e.slide("next")})),this.selector.append(this.prevSelector,this.nextSelector))}},{key:"arrowsVisibility",value:function(){this.arrowsVisible=this.determineVisibility(this.config.arrowsVisible)}},{key:"keyboardNavigation",value:function(){document.addEventListener("keydown",this.handleKeyboardEvent.bind(this))}},{key:"handleKeyboardEvent",value:function(e){"ArrowLeft"===e.key&&this.slide("prev"),"ArrowRight"===e.key&&this.slide("next")}},{key:"activeClass",value:function(){var e=this.config.loop?this.curSlide+this.visibleSlides:this.curSlide,t=this.visibleSlides,i=this.selector.querySelectorAll(this.config.itemSelector),s=this.config.itemSelector.replace(".",""),n=s+"-active";if(i){for(var r=0;r<i.length;r+=1)i[r].classList.remove(n);for(var a=0;a<t;a+=1)i[e+a].classList.add(n);this.config.centerMode&&this.centerMode(s)}}},{key:"centerMode",value:function(e){var t=this.config.loop?this.curSlide+this.visibleSlides:this.curSlide,i=this.visibleSlides,s=this.selector.querySelectorAll("."+e),n=Math.ceil(i/2),r=e+"-center",a=e+"-half-center",o=e+"-quarter-center";if(s)for(var l=0;l<s.length;l+=1)s[l].classList.remove(r),s[l].classList.remove(a),s[l].classList.remove(o);for(var c=0;c<i;c+=1)s[t+c]&&(s[t+n-1].classList.add(r),i%2==0?(s[t+n].classList.add(r),i>=6&&this.config.centerModeRange&&(s[t+n-2].classList.add(a),s[t+n+1].classList.add(a))):i>=5&&i%2!=0&&this.config.centerModeRange&&(s[t+n-2].classList.add(a),s[t+n].classList.add(a),i>=7&&(s[t+n-3].classList.add(o),s[t+n+1].classList.add(o))))}},{key:"mousedownHandler",value:function(e){e.preventDefault(),e.stopPropagation(),this.pointerDown=!0,this.drag.startXAxis=e.pageX}},{key:"mouseupHandler",value:function(e){e.stopPropagation(),this.pointerDown=!1,this.selector.style.cursor="-webkit-grab",this.isTransition(),this.drag.endXAxis&&this.updateAfterDrag(),this.stopDragging()}},{key:"mousemoveHandler",value:function(e){if(e.preventDefault(),this.pointerDown){"A"===e.target.nodeName&&(this.drag.preventClick=!0),this.drag.endXAxis=e.pageX,this.selector.style.cursor="-webkit-grabbing",this.sliderInnerWrapper.style.transition="all 0ms ".concat(this.config.easeMode);var t=(this.config.loop?this.curSlide+this.visibleSlides:this.curSlide)*(this.selectorWidth/this.visibleSlides),i=this.drag.endXAxis-this.drag.startXAxis,s=this.config.rtl?t+i+(this.config.gap?this.config.gap:0):t-i-(this.config.gap?this.config.gap:0);this.sliderInnerWrapper.style.transform="translate3d(".concat((this.config.rtl?1:-1)*s,"px, 0, 0)")}}},{key:"mouseleaveHandler",value:function(e){this.pointerDown&&(this.pointerDown=!1,this.selector.style.cursor="-webkit-grab",this.drag.endXAxis=e.pageX,this.drag.preventClick=!1,this.isTransition(),this.updateAfterDrag(),this.stopDragging())}},{key:"touchstartHandler",value:function(e){e.stopPropagation(),this.drag.startXAxis=e.touches[0].pageX,this.drag.startYAxis=e.touches[0].pageY,this.pointerDown=!0}},{key:"touchendHandler",value:function(e){e.stopPropagation(),this.pointerDown=!1,this.isTransition(),this.drag.endXAxis&&this.updateAfterDrag(),this.stopDragging()}},{key:"touchmoveHandler",value:function(e){if(e.stopPropagation(),null===this.drag.dragOff&&(this.drag.dragOff=Math.abs(this.drag.startYAxis-e.touches[0].pageY)<Math.abs(this.drag.startXAxis-e.touches[0].pageX)),this.pointerDown&&this.drag.dragOff){var t=(this.config.loop?this.curSlide+this.visibleSlides:this.curSlide)*(this.selectorWidth/this.visibleSlides),i=this.drag.endXAxis-this.drag.startXAxis,s=this.config.rtl?t+i+(this.config.gap?this.config.gap:0):t-i-(this.config.gap?this.config.gap:0);e.preventDefault(),this.drag.endXAxis=e.touches[0].pageX,this.sliderInnerWrapper.style.transition="0 all ".concat(this.config.easeMode," "),this.sliderInnerWrapper.style.transform="translate3d(".concat((this.config.rtl?1:-1)*s,"px, 0, 0)")}}},{key:"attachHoverListeners",value:function(){var e=this;this.selector.addEventListener("mouseenter",(function(){clearInterval(e.myTimer)})),this.selector.addEventListener("mouseleave",(function(){e.autoPlay()}))}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;if(window.removeEventListener("resize",this.resizeHandler),this.selector.removeEventListener("click",this.clickHandler),this.selector.removeEventListener("mouseup",this.mouseupHandler),this.selector.removeEventListener("mousedown",this.mousedownHandler),this.selector.removeEventListener("mouseleave",this.mouseleaveHandler),this.selector.removeEventListener("mousemove",this.mousemoveHandler),this.selector.removeEventListener("touchstart",this.touchstartHandler),this.selector.removeEventListener("touchend",this.touchendHandler),this.selector.removeEventListener("touchmove",this.touchmoveHandler),e){for(var s=document.createDocumentFragment(),n=0;n<this.innerItems.length;n+=1)s.appendChild(this.innerItems[n]);this.selector.innerHTML="",this.selector.appendChild(s).removeAttribute("style")}this.callbackHandler(t,i)}}],o&&s(a.prototype,o),c&&s(a,c),Object.defineProperty(a,"prototype",{writable:!1}),e}();export{c as default};
